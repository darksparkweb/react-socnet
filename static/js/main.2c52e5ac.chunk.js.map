{"version":3,"sources":["Redux/profileReducer.js","Redux/dialogsReducer.js","api/api.js","components/Friends/Friends.module.css","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Login/login.module.css","components/Users/users.module.css","Redux/auth-reducer.ts","components/common/FormsControls/formsControls.jsx","Redux/friendsReducer.js","Redux/usersReducer.js","Redux/redux-store.js","components/Navbar/Navbar.jsx","Redux/friends-selectors.js","components/Friends/Listing/Listing.jsx","components/Friends/Friends.jsx","components/Friends/FriendsContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","img/logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/login.jsx","Hoc/WithSuspense.js","App.js","index.js","components/Navbar/Navbar.module.css","components/common/FormsControls/formsControls.module.css","img/load.svg","components/common/preloader.jsx","components/Header/Header.module.css","components/Friends/Listing/Listing.module.css","img/user.png","Utils/Validators/validators.js","Redux/app-reducer.js","components/common/Paginator/Paginator.module.css"],"names":["ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","initialState","posts","id","like","dislike","message","userID","profile","status","setStatus","type","addPostThunk","theWallPost","dispatch","addPostActionCreator","reset","getUserProfile","a","profileAPI","getProfile","response","data","getStatus","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","SEND_MESSAGE","dialogs","name","sendMessageActionCreator","newMessageText","dialogsReducer","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","unFollowUser","delete","followUser","post","console","warn","friendsAPI","getFriends","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isAuth","captchaUrl","setAuthUserData","payload","setCaptchaUrlSuccess","getAuthUserData","length","url","authReducer","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","textArea","Input","createField","placeholder","validators","component","text","validate","SET_FRIENDS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","friends","totalUsersCount","isFetching","setCurrentPage","toggleIsFetching","friendsReducer","users","count","FOLLOW","UNFOLLOW","SET_USERS","TOGGLE_IS_FOLLOWING_PROGRESS","followingInProgress","followSuccess","unfollowSuccess","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","map","u","followed","filter","reducers","combineReducers","profilePage","dialogsPage","friendsPage","usersPage","form","formReducer","app","appReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","nav","item","to","activeClassName","active","getPageSize","getTotalFriendsCount","getCurrentPage","getIsFetching","Listing","listing","navLink","ava","src","small","userPhoto","alt","Friends","friendsElements","Loader","FriendsContainer","getFriendsList","this","React","Component","connect","page","items","totalCount","News","content","Music","Settings","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","onClick","p","selectedPage","e","User","user","unfollow","follow","userBar","grow","info","statusbar","userName","disabled","some","Users","body","getTotalUsersCount","getFollowingInProgress","UsersContainer","pageNumber","Header","header","logo","image","title","loginBlock","href","target","rel","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","style","formError","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","library","add","far","App","initializeApp","initialized","exact","path","render","withRouter","ReactDOM","document","getElementById","loader","value","maxLength","max","undefined","__assign","Object","assign","t","n","arguments","prototype","hasOwnProperty","call","apply","defineProperty","initializedSuccess","auth_reducer_1","require","INITIALIZED_SUCCESS","promise","all","default"],"mappings":"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","file":"static/js/main.2c52e5ac.chunk.js","sourcesContent":["import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit, reset} from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, like: 15, dislike: 1, message: \"My name is Valerian\", userID: 13236},\r\n        {id: 2, like: 22, dislike: 2, message: \"And I wanna be a front-end developer\", userID: 13236},\r\n        {id: 3, like: 33, dislike: 3, message: \"I really like it! It's really cool!\", userID: 13236},\r\n        {id: 5, like: 55, dislike: 5, message: \"The Wall will work correctly when the server allows it. sorry\", userID: 13236},\r\n        {id: 6, like: 666, dislike: 0, message: \"Yeah, bro! I'll make this Wall better soon!\", userID: 2}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 6,\r\n                like: 0,\r\n                dislike: 0,\r\n                message: action.theWallPost\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (theWallPost) => ({type: ADD_POST, theWallPost})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({type: SET_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const addPostThunk = (theWallPost) => (dispatch) => {\r\n    dispatch(addPostActionCreator(theWallPost));\r\n    dispatch(reset('AddPost'));\r\n}\r\nexport const getUserProfile = (userID) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userID)\r\n        dispatch(setUserProfile(response.data))\r\n};\r\nexport const getStatus = (userID) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userID)\r\n        dispatch(setStatus(response.data))\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userID = getState().auth.id\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userID))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"John Smith\"},\r\n        {id: 2, name: \"Jim Carry\"},\r\n        {id: 3, name: \"Angelina Jolly\"},\r\n        {id: 4, name: \"Vasa Bell\"},\r\n        {id: 5, name: \"Petia\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"yo\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"yo\"},\r\n        {id: 4, message: \"When is your birthday?\"},\r\n        {id: 5, message: \"yo\"},\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: action.newMessageText}]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageText) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageText\r\n    }\r\n};\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\" : \"32a514d0-8ff7-42c9-aa72-0aa539678439\"}\r\n    }\r\n)\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 100) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unFollowUser(userID) {\r\n        return instance.delete(`follow/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    followUser(userID) {\r\n        return instance.post(`follow/${userID}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getProfile(userID) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userID)\r\n    }\r\n}\r\n\r\nexport const friendsAPI = {\r\n    getFriends(currentPage = 1, pageSize = 50) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userID) {\r\n        return instance.get(`profile/` + userID)\r\n    },\r\n    getStatus(userID) {\r\n        return instance.get(`profile/status/` + userID)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile/`, profile)\r\n    }\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`, {})\r\n    }\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1pkvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts1\":\"News_posts1__2lldr\",\"posts2\":\"News_posts2__seO4t\",\"input\":\"News_input__2r14R\",\"image\":\"News_image__10KvL\",\"profile\":\"News_profile__n_ezX\",\"underspace\":\"News_underspace__1xMzd\",\"ava\":\"News_ava__1s6k4\",\"avatar\":\"News_avatar__vwyTO\",\"name\":\"News_name__3zasy\",\"text\":\"News_text__32G9J\",\"messages\":\"News_messages__26cI8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts1\":\"Music_posts1__3Lx6K\",\"posts2\":\"Music_posts2__1wh6C\",\"input\":\"Music_input__kbgHG\",\"image\":\"Music_image__18XV8\",\"profile\":\"Music_profile__Ko9g2\",\"underspace\":\"Music_underspace__u7zMF\",\"ava\":\"Music_ava__2PFwD\",\"avatar\":\"Music_avatar__1kJdc\",\"name\":\"Music_name__2l1he\",\"text\":\"Music_text__8qHoN\",\"messages\":\"Music_messages__qeoDH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts1\":\"Settings_posts1__qiELt\",\"posts2\":\"Settings_posts2__18b-v\",\"input\":\"Settings_input__23pj6\",\"image\":\"Settings_image__1sC5u\",\"profile\":\"Settings_profile__1igPw\",\"underspace\":\"Settings_underspace__BRD_D\",\"ava\":\"Settings_ava__3q_Tw\",\"avatar\":\"Settings_avatar__1Om9z\",\"name\":\"Settings_name__2YY_Y\",\"text\":\"Settings_text__3mPtx\",\"messages\":\"Settings_messages__2k8qT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"login_checkbox__33bcf\",\"body\":\"login_body__kuGhC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"users_body__2OR3J\",\"userPhoto\":\"users_userPhoto__9W3zM\",\"statusbar\":\"users_statusbar__2hCRj\",\"userName\":\"users_userName__3vuav\",\"status\":\"users_status__3b5vU\",\"info\":\"users_info__1fqXW\",\"userBar\":\"users_userBar__kvyAY\",\"grow\":\"users_grow__3RjcS\",\"follow\":\"users_follow__1HIOk\",\"unfollow\":\"users_unfollow__qPJ3P\",\"allBody\":\"users_allBody__2gSlj\"};","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    id: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n}\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype SetAuthUserDataActionPayloadType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\n\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataActionType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {id, email, login, isAuth}\r\n})\r\ntype setCaptchaUrlSuccessActionType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS\r\n    payload: { captchaUrl: string }\r\n}\r\nexport const setCaptchaUrlSuccess = (captchaUrl: string): setCaptchaUrlSuccessActionType => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n})\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n};\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(setCaptchaUrlSuccess(captchaUrl))\r\n};\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport s from \"./formsControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            {children}\r\n            {/*{hasError && <span>{error}</span>}*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} className={s.textArea}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} className={s.input}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, type, text = \"\") =>\r\n    <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            component={component}\r\n            name={name}\r\n            validate={validators}\r\n            type={type}\r\n        />{text}\r\n    </div>\r\n","import {friendsAPI} from \"../api/api\";\r\n\r\nconst SET_FRIENDS = \"SET_FRIENDS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    pageSize: 30,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true\r\n}\r\n\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_FRIENDS: {\r\n            return {...state, friends: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setFriends = (users) => {\r\n    return {type: SET_FRIENDS, users}\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\nexport const setTotalUsersCount = (count) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\n\r\nexport const requestFriends = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await friendsAPI.getFriends(page, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setFriends(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport default friendsReducer;\r\n","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 30,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.userID, \"id\", {followed: true})\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//ActionCreators\r\nexport const followSuccess = (userID) => {\r\n    return {type: FOLLOW, userID}\r\n};\r\nexport const unfollowSuccess = (userID) => {\r\n    return {type: UNFOLLOW, userID}\r\n};\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\nexport const setTotalUsersCount = (count) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, count}\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userID) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userID}\r\n};\r\n\r\n//Thunks\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async(dispatch, userID, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userID))\r\n    let data = await apiMethod(userID)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID))\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userID, usersAPI.followUser, followSuccess)\r\n    }\r\n}\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userID, usersAPI.unFollowUser, unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\"\r\nimport profileReducer from './profileReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport friendsReducer from \"./friendsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    friendsPage: friendsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nexport default store","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navbar.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/users\" activeClassName={s.active}>\r\n                Users\r\n            </NavLink>\r\n        </div>\r\n      {/*<div className={s.item}>*/}\r\n      {/*  <NavLink to=\"/news\" activeClassName={s.active}>*/}\r\n      {/*    News*/}\r\n      {/*  </NavLink>*/}\r\n      {/*</div>*/}\r\n      {/*<div className={s.item}>*/}\r\n      {/*  <NavLink to=\"/music\" activeClassName={s.active}>*/}\r\n      {/*    Music*/}\r\n      {/*  </NavLink>*/}\r\n      {/*</div>*/}\r\n      {/*<div className={s.item}>*/}\r\n      {/*  <NavLink to=\"/settings\" activeClassName={s.active}>*/}\r\n      {/*    Settings*/}\r\n      {/*  </NavLink>*/}\r\n      {/*</div>*/}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export const getFriends = (state) => {\r\n    return state.friendsPage.friends\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.friendsPage.pageSize\r\n}\r\n\r\nexport const getTotalFriendsCount = (state) => {\r\n    return state.friendsPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.friendsPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.friendsPage.isFetching\r\n}\r\n\r\n// export const getFollowingInProgress = (state) => {\r\n//     return state.friendsPage.followingInProgress\r\n// }\r\n\r\n","import React from 'react';\r\nimport s from './Listing.module.css';\r\nimport userPhoto from \"../../../img/user.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Listing = (props) => {\r\n    return (\r\n            <div className={s.listing}>\r\n                <NavLink to={\"/Profile/\" + props.store.id} className={s.navLink}>\r\n                <div className={s.ava}><img src={props.store.photos.small ? props.store.photos.small : userPhoto} alt={props.store.name}/></div>\r\n                <div className={s.name}>{props.store.name}</div>\r\n                </NavLink>\r\n            </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default Listing;","import React from 'react';\r\nimport s from './Friends.module.css';\r\nimport Listing from './Listing/Listing';\r\nimport Loader from \"../common/preloader\";\r\n\r\n\r\nconst Friends = (props) => {\r\n\r\n    let friendsElements = props.friends.map(friends => <Listing store={friends} key={friends.id}/>);\r\n\r\n    return (\r\n\r\n        <div className={s.friends}>\r\n            {props.isFetching ? Loader : props.isAuth && friendsElements}\r\n        </div>\r\n\r\n)\r\n}\r\n\r\nexport default Friends","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {requestFriends, setCurrentPage} from \"../../Redux/friendsReducer\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFriends,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalFriendsCount\r\n} from \"../../Redux/friends-selectors\";\r\nimport Friends from \"./Friends\";\r\n\r\nclass FriendsContainer extends React.Component {\r\n\r\n    getFriendsList = () => {\r\n        this.props.getFriends(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    componentDidMount() {\r\n        this.getFriendsList()\r\n    }\r\n    // componentDidUpdate(prevProps, prevState, snapshot) {\r\n    //     if (this.props.friends !== prevProps.friends) {\r\n    //         this.getFriendsList()\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        return <>\r\n\r\n            <Friends\r\n                isAuth={this.props.isAuth}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                friends={this.props.friends}\r\n                isFetching={this.props.isFetching}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isFetching: getIsFetching(state),\r\n        friends: getFriends(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalFriendsCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {setCurrentPage, getFriends: requestFriends,login})\r\n)(FriendsContainer);\r\n","import s from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n  return <div className={s.content}>NEWS</div>;\r\n};\r\n\r\nexport default News;\r\n","import s from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n  return <div className={s.content}>MUSIC</div>;\r\n};\r\n\r\nexport default Music;\r\n","import s from \"./Settings.module.css\";\r\n\r\nconst Settings = () => {\r\n  return <div className={s.content}>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalUsersCount,pageSize,currentPage,onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.pagesCount}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1)}}>Prev</button>\r\n        }\r\n\r\n        {pages\r\n            .filter(p => p >=leftPortionPageNumber && p<=rightPortionPageNumber)\r\n            .map(p => {\r\n            return <span\r\n                className={currentPage === p && styles.selectedPage}\r\n                onClick={(e) => {\r\n                    onPageChanged(p)\r\n                }}>{p}\r\n                    </span>\r\n        })}\r\n        { portionCount > portionNumber &&\r\n        <button onClick={() => { setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../img/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow, isAuth}) => {\r\n    return (\r\n        <div className={styles.userBar} key={user.id}>\r\n                <span className={styles.grow}>\r\n                    <div>\r\n                        <NavLink to={\"/Profile/\" + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}\r\n                             alt={user.name}/>\r\n                        </NavLink>\r\n                    </div>\r\n\r\n                </span>\r\n            <span className={styles.info + \" \" + styles.grow}>\r\n                    <span className={styles.statusbar}>\r\n                        <div className={styles.userName}>{user.name}</div>\r\n                        <div className={styles.status}>{user.status}</div>\r\n                    </span>\r\n                </span>\r\n            {isAuth &&\r\n            <div className={styles.grow}>\r\n                {user.followed\r\n                    ? <button\r\n                        className={styles.unfollow}\r\n                        disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n                            unfollow(user.id)\r\n                        }}>Unfollow</button>\r\n                    : <button\r\n                        className={styles.follow}\r\n                        disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>\r\n                }\r\n            </div>\r\n            }\r\n        </div>)\r\n}\r\n\r\n\r\nexport default User","import React from 'react'\r\nimport styles from \"./users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport Loader from \"../common/preloader\";\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, isAuth, users, ...props}) => {\r\n\r\n    return <div className={styles.body}>\r\n\r\n        <Paginator currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n                   totalUsersCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n        />\r\n        {props.isFetching ? <Loader/> :\r\n        <div>\r\n            {users.map(u =>\r\n                <User user={u}\r\n                      isAuth={isAuth}\r\n                      followingInProgress={props.followingInProgress}\r\n                      follow={props.follow}\r\n                      unfollow={props.unfollow}\r\n                />)\r\n            }\r\n        </div>}\r\n        <Paginator currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n                   totalUsersCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n        />\r\n    </div>\r\n}\r\n\r\n\r\nexport default Users","\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unfollow} from \"../../Redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../Redux/users-selectors\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n\r\n            <Users\r\n                isAuth={this.props.isAuth}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                isFetching={this.props.isFetching}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage,\r\n            toggleFollowingProgress, getUsers: requestUsers,\r\n            login\r\n        })\r\n)(UsersContainer)","export default __webpack_public_path__ + \"static/media/logo.b7208d3f.png\";","import React from \"react\";\r\nimport s from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../../img/logo.png\"\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img alt=\"header\" src={logo} className={s.image}/>\r\n            <div className={s.title}>Насвязи.com</div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} <button onClick={props.logout} className={s.logout}>Logout</button></div>\r\n                    : <div>\r\n                        <NavLink to={'/login'}>Login</NavLink> /\r\n                        <a href='https://social-network.samuraijs.com/signUp' target=\"_blank\" rel=\"noreferrer\"> Register</a>\r\n\r\n                    </div>}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react'\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/formsControls\";\r\nimport {required} from \"../../Utils/Validators/validators\";\r\nimport s from \"./login.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../common/FormsControls/formsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            {createField('eEmail', \"email\", [required], Input, \"email\")}\r\n            {createField('Password', \"password\", [required], Input, \"password\")}\r\n            {createField(null, \"rememberMe\", [], Input, \"checkbox\", \"Remember Me\")}\r\n\r\n            {captchaUrl && <img alt={\"captcha\"} src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n            {error &&\r\n            <div className={style.formError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return <div className={s.body}>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}\r\n","import React from 'react';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\nimport {far} from \"@fortawesome/free-regular-svg-icons\";\nimport {Switch, Route, withRouter, Redirect} from \"react-router-dom\";\nimport \"./style.css\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/app-reducer\";\nimport Loader from \"./components/common/preloader\";\nimport {withSuspense} from \"./Hoc/WithSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nlibrary.add(far);\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Loader/>\n        }\n        return (\n\n            <div className=\"sectionOne\">\n                <div className=\"myFirstApp\">\n                    <HeaderContainer/>\n                    <div className=\"sidebar\">\n                        <Navbar/>\n                        <FriendsContainer/>\n                    </div>\n                    <div className=\"app-content\">\n                        <Switch>\n                            <Route exact path=\"/\"\n                                render={()=><Redirect to={\"/profile\"}/>}/>\n                            <Route path=\"/dialogs\"\n                                render={withSuspense(DialogsContainer)}/>\n                            <Route path=\"/profile/:userID?\"\n                                render={withSuspense(ProfileContainer)}/>\n                            <Route path=\"/users\"\n                                render={() => <UsersContainer/>}/>\n                            <Route path=\"/news\"\n                                render={() => <News/>}/>\n                            <Route path=\"/music\"\n                                render={() => <Music/>}/>\n                            <Route path=\"/settings\"\n                                render={() => <Settings/>}/>\n                            <Route path=\"/login\"\n                                render={() => <Login/>}/>\n                        </Switch>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n","import store from \"./Redux/redux-store\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n  ReactDOM.render(\n    <BrowserRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  )\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2viZF\",\"item\":\"Navbar_item__12kIc\",\"active\":\"Navbar_active__3ygMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textArea\":\"formsControls_textArea__3xkxm\",\"formControl\":\"formsControls_formControl__2N3_g\",\"error\":\"formsControls_error__IBPrj\",\"formError\":\"formsControls_formError__2csG_\"};","export default __webpack_public_path__ + \"static/media/load.b767aab4.svg\";","import loader from \"../../img/load.svg\";\r\n\r\nlet Loader = (props) => {\r\n    return <img alt=\"loader\" src={loader}/>\r\n}\r\n\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3X4EN\",\"title\":\"Header_title__1UZhN\",\"image\":\"Header_image__18-W9\",\"loginBlock\":\"Header_loginBlock__2g8g8\",\"logout\":\"Header_logout__2x3yI\",\"ava\":\"Header_ava__1-WFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listing\":\"Listing_listing__1Ik1H\",\"navLink\":\"Listing_navLink__13PUn\",\"ava\":\"Listing_ava__3EWvp\",\"name\":\"Listing_name__1-V0p\"};","export default __webpack_public_path__ + \"static/media/user.a4b40bd5.png\";","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLength = max => value =>\r\n    value && value.length > max ? `Must be ${max} characters or less` : undefined","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initializeApp = exports.initializedSuccess = void 0;\r\nvar auth_reducer_1 = require(\"./auth-reducer\");\r\nvar INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\nvar initialState = {\r\n    initialized: false\r\n};\r\nvar appReducer = function (state, action) {\r\n    if (state === void 0) { state = initialState; }\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return __assign(__assign({}, state), { initialized: true });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nvar initializedSuccess = function () {\r\n    return { type: INITIALIZED_SUCCESS };\r\n};\r\nexports.initializedSuccess = initializedSuccess;\r\nvar initializeApp = function () { return function (dispatch) {\r\n    var promise = dispatch(auth_reducer_1.getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(function () {\r\n        dispatch(exports.initializedSuccess());\r\n    });\r\n}; };\r\nexports.initializeApp = initializeApp;\r\nexports.default = appReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__EwcK8\",\"pagesCount\":\"Paginator_pagesCount__nk8JN\"};"],"sourceRoot":""}